(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-160d7816"],{"0de1":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-head"},[n("div",{staticClass:"page-head__action",on:{click:t.back}},[t._v("返回")]),t._v(" "),n("div",{staticClass:"page-head__content"},[t._v(t._s(t.content))])])},s=[],o={name:"PageHead",props:{content:{type:String,default:""}},methods:{back:function(){this.$emit("back")}}},i=o,r=(n("4b01"),n("2877")),c=Object(r["a"])(i,a,s,!1,null,"5b753a20",null);e["a"]=c.exports},1283:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("div",{staticClass:"page-head-wraper"},[n("page-head",{attrs:{content:"新增讲师"},on:{back:t.goBack}})],1),t._v(" "),n("div",{staticClass:"wraper"},[n("el-form",{ref:"courseForm",attrs:{model:t.content,rules:t.courseFormRules,"label-width":"7em"}},[n("el-form-item",{attrs:{label:"讲师头像"}},[n("el-upload",{staticClass:"uploader",attrs:{action:t.uploadUrl,name:"multipartFile","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.content.photo?n("img",{staticClass:"avatar",attrs:{src:t.content.photo}}):n("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),n("p",{staticClass:"upload-tips"},[t._v("只能上传jpg/png文件，建议尺寸为513x321px。")]),t._v(" "),n("input",{attrs:{type:"hidden"}})],1),t._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isAdd,expression:"!isAdd"}],attrs:{label:"状态"}},[n("el-radio",{attrs:{label:"0"},model:{value:t.content.status,callback:function(e){t.$set(t.content,"status",e)},expression:"content.status"}},[t._v("在职")]),t._v(" "),n("el-radio",{attrs:{label:"1"},model:{value:t.content.status,callback:function(e){t.$set(t.content,"status",e)},expression:"content.status"}},[t._v("离职")])],1),t._v(" "),n("el-form-item",{attrs:{label:"讲师姓名"}},[n("el-input",{attrs:{placeholder:"输入讲师姓名"},model:{value:t.content.realName,callback:function(e){t.$set(t.content,"realName","string"===typeof e?e.trim():e)},expression:"content.realName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"讲师昵称"}},[n("el-input",{attrs:{placeholder:"输入讲师昵称"},model:{value:t.content.nickName,callback:function(e){t.$set(t.content,"nickName","string"===typeof e?e.trim():e)},expression:"content.nickName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"年龄"}},[n("el-input",{staticClass:"slogan-input",attrs:{placeholder:"输入年龄",maxlength:"3"},on:{blur:function(e){return t.changeAge("age")}},model:{value:t.content.age,callback:function(e){t.$set(t.content,"age","string"===typeof e?e.trim():e)},expression:"content.age"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"教龄"}},[n("el-input",{staticClass:"slogan-input",attrs:{placeholder:"输入教龄",maxlength:"3"},on:{blur:function(e){return t.changeAge("teachAge")}},model:{value:t.content.teachAge,callback:function(e){t.$set(t.content,"teachAge","string"===typeof e?e.trim():e)},expression:"content.teachAge"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"联系电话"}},[n("el-input",{staticClass:"slogan-input",attrs:{placeholder:"输入联系电话",maxlength:"40"},model:{value:t.content.contactPhone,callback:function(e){t.$set(t.content,"contactPhone","string"===typeof e?e.trim():e)},expression:"content.contactPhone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"所担任课程数"}},[n("el-input",{staticClass:"slogan-input",attrs:{placeholder:"输入所担任课程数",maxlength:"40"},model:{value:t.content.curriculumAmount,callback:function(e){t.$set(t.content,"curriculumAmount","string"===typeof e?e.trim():e)},expression:"content.curriculumAmount"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"学员数"}},[n("el-input",{attrs:{placeholder:"输入学员数"},model:{value:t.content.studentAmount,callback:function(e){t.$set(t.content,"studentAmount","string"===typeof e?e.trim():e)},expression:"content.studentAmount"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"标语"}},[n("el-input",{attrs:{placeholder:"请输入业绩说明"},model:{value:t.content.performance,callback:function(e){t.$set(t.content,"performance","string"===typeof e?e.trim():e)},expression:"content.performance"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"课程类目"}},[n("el-transfer",{attrs:{data:t.categoriesValList,props:{key:"categoryId",label:"categoryName"},titles:["未选","已选"]},model:{value:t.content.categoryViews,callback:function(e){t.$set(t.content,"categoryViews",e)},expression:"content.categoryViews"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"详细描述"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入详细描述"},model:{value:t.content.detailedDescription,callback:function(e){t.$set(t.content,"detailedDescription","string"===typeof e?e.trim():e)},expression:"content.detailedDescription"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"简介"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入简介"},model:{value:t.content.briefIntroduction,callback:function(e){t.$set(t.content,"briefIntroduction","string"===typeof e?e.trim():e)},expression:"content.briefIntroduction"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"奖牌/荣誉"}},[n("el-upload",{staticClass:"student-uploader",attrs:{name:"multipartFile","list-type":"picture-card",action:t.uploadUrl,"on-preview":t.handlePictureCardPreview,"on-success":t.handleSuccess,"on-remove":t.handleRemove,"file-list":t.fileList}},[n("i",{staticClass:"el-icon-picture"}),t._v(" "),n("div",{staticClass:"upload-tips",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且最多上传9张，建议尺寸宽为750，高不宜超过1200px。")])])],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},s=[],o=(n("ac6a"),n("9afb")),i=n("0de1"),r=n("39bb"),c={name:"CourseEdit",components:{PageHead:i["a"]},data:function(){return{content:{photo:"",nickName:"",realName:"",studentAmount:"",teachAge:"",performance:"",detailedDescription:"",curriculumAmount:"",contactPhone:"",briefIntroduction:"",age:"",categoryViews:[],achievements:[]},categoriesValList:[],isEdit:!1,courseFormRules:{},teacherArr:[{}],imageUrl:"",dialogImageUrl:"",dialogVisible:!1,fileList:[],uploadUrl:r["c"],isAdd:!0}},created:function(){this.getCategory();var t=this.$route.query.id;t&&(this.isAdd=!1,this.getView(t))},methods:{getView:function(t){var e=this,n={id:t};Object(o["e"])(n).then((function(t){if(t.code)return t.message&&e.$warn(t.message);if(t.data){e.content=t.data,e.content.achievements.forEach((function(t){e.fileList.push({url:t})}));var n=[];e.content.categoryViews.forEach((function(t){n.push(t.categoryId)})),e.content.categoryViews=n}}))},getCategory:function(){var t=this;Object(o["d"])().then((function(e){if(e.code)return e.message&&t.$warn(e.message);e.data&&(t.categoriesValList=e.data)}))},goBack:function(){this.$router.go(-1)},handleAvatarSuccess:function(t,e){if(t.code)return t.message&this.$warn(t.message);t.data&&(this.content.photo=t.data)},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},changeAge:function(t){this.content[t]>100&&(this.content[t]=100)},handleRemove:function(t,e){if("success"!==t.status)return this.$warn("删除失败");if(t.url){var n=this.content.achievements.indexOf(t.url);this.content.achievements.splice(n,1)}},handleSuccess:function(t,e){if(t.code)return t.message&this.$warn(t.message);t.data&&this.content.achievements.push(t.data)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},save:function(){var t=this,e=this.isAdd?o["a"]:o["b"],n=this.content;e(n).then((function(e){if(e.code)return e.message&&t.$warn(e.message);t.$success(e.message),t.$router.push({name:"Teacher"})}))}}},l=c,u=(n("a25b"),n("2877")),d=Object(u["a"])(l,a,s,!1,null,"3caff341",null);e["default"]=d.exports},"4b01":function(t,e,n){"use strict";var a=n("53a6"),s=n.n(a);s.a},"53a6":function(t,e,n){},"9afb":function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return l}));var a=n("b775");function s(t){return a["a"].get("boss/store/category",t)}function o(t){return a["a"].post("boss/store/teacherList",t)}function i(t){return a["a"].post("boss/store/teacher",t)}function r(t){return a["a"].patch("boss/store/teacher",t)}function c(t){var e=t.id;return a["a"].get("boss/store/teacher/"+e)}function l(t){var e=t.id;return a["a"].get("boss/store/teachers/"+e)}},a25b:function(t,e,n){"use strict";var a=n("ca40"),s=n.n(a);s.a},ca40:function(t,e,n){}}]);