(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74544464"],{"72ea":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("div",{staticClass:"page-head-wraper"},[a("page-head",{attrs:{content:"编辑讲师"},on:{back:t.goBack}})],1),t._v(" "),a("div",{staticClass:"wraper"},[a("el-form",{ref:"courseForm",attrs:{model:t.content,rules:t.courseFormRules,"label-width":"7em"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"讲师头像"}},[a("el-upload",{staticClass:"uploader",attrs:{action:t.uploadUrl,name:"multipartFile","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.content.photo?a("img",{staticClass:"avatar",attrs:{src:t.content.photo}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),a("p",{staticClass:"upload-tips"},[t._v("只能上传jpg/png文件，建议尺寸为500x500px。")]),t._v(" "),a("input",{attrs:{type:"hidden"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"奖牌/荣誉"}},[a("el-upload",{staticClass:"student-uploader",attrs:{name:"multipartFile","list-type":"picture-card",action:t.uploadUrl,"on-preview":t.handlePictureCardPreview,"on-success":t.handleSuccess,"on-remove":t.handleRemove,"file-list":t.fileList}},[a("i",{staticClass:"el-icon-picture"}),t._v(" "),a("div",{staticClass:"upload-tips",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且最多上传9张，建议尺寸为750x750px。")])])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"讲师名称"}},[a("el-input",{attrs:{placeholder:"请输入讲师名称"},model:{value:t.content.realName,callback:function(e){t.$set(t.content,"realName","string"===typeof e?e.trim():e)},expression:"content.realName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"讲师简介"}},[a("el-input",{attrs:{placeholder:"请以简洁的语言突出讲师风采"},model:{value:t.content.nickName,callback:function(e){t.$set(t.content,"nickName","string"===typeof e?e.trim():e)},expression:"content.nickName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{staticClass:"slogan-input",attrs:{placeholder:"请输入讲师年龄",maxlength:"3"},model:{value:t.content.age,callback:function(e){t.$set(t.content,"age","string"===typeof e?e.trim():e)},expression:"content.age"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"教龄"}},[a("el-input",{staticClass:"slogan-input",attrs:{placeholder:"请输入讲师教龄",maxlength:"3"},model:{value:t.content.teachAge,callback:function(e){t.$set(t.content,"teachAge","string"===typeof e?e.trim():e)},expression:"content.teachAge"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{staticClass:"slogan-input",attrs:{placeholder:"请输入讲师联系电话",maxlength:"40"},model:{value:t.content.contactPhone,callback:function(e){t.$set(t.content,"contactPhone","string"===typeof e?e.trim():e)},expression:"content.contactPhone"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"累计课程数"}},[a("el-input",{staticClass:"slogan-input",attrs:{placeholder:"请输入累计课程区间，如100-150",maxlength:"40"},model:{value:t.content.curriculumAmount,callback:function(e){t.$set(t.content,"curriculumAmount","string"===typeof e?e.trim():e)},expression:"content.curriculumAmount"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"课程类目"}},[a("el-transfer",{attrs:{data:t.categoriesValList,props:{key:"categoryId",label:"categoryName"},titles:["未选","已选"]},model:{value:t.content.categoryViews,callback:function(e){t.$set(t.content,"categoryViews",e)},expression:"content.categoryViews"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"累计学员数"}},[a("el-input",{attrs:{placeholder:"请输入累计学员区间，如500-700 "},model:{value:t.content.studentAmount,callback:function(e){t.$set(t.content,"studentAmount","string"===typeof e?e.trim():e)},expression:"content.studentAmount"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"讲师标签"}},[a("el-input",{attrs:{placeholder:"输入标签展示讲师优势"},model:{value:t.content.performance,callback:function(e){t.$set(t.content,"performance","string"===typeof e?e.trim():e)},expression:"content.performance"}}),t._v(" "),a("div",{staticClass:"tags-msg"},[t._v("多个标识用半角逗号分隔")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"讲师介绍"}},[a("Tinymce")],1)],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.save}},[t._v("取消")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},s=[],o=(a("ac6a"),a("9afb")),l=a("0de1"),i=a("39bb"),r=a("8256"),c={name:"CourseEdit",components:{PageHead:l["a"],Tinymce:r["a"]},data:function(){return{content:{photo:"",nickName:"",realName:"",studentAmount:"",teachAge:"",performance:"",detailedDescription:"",curriculumAmount:"",contactPhone:"",briefIntroduction:"",age:"",categoryViews:[],achievements:[]},categoriesValList:[],isEdit:!1,courseFormRules:{},teacherArr:[{}],imageUrl:"",dialogImageUrl:"",dialogVisible:!1,fileList:[],uploadUrl:i["c"],isAdd:!0}},created:function(){this.getCategory();var t=this.$route.query.id;t&&(this.isAdd=!1,this.getView(t))},methods:{getView:function(t){var e=this,a={id:t};Object(o["e"])(a).then((function(t){if(t.code)return t.message&&e.$warn(t.message);if(t.data){e.content=t.data,e.content.achievements.forEach((function(t){e.fileList.push({url:t})}));var a=[];e.content.categoryViews.forEach((function(t){a.push(t.categoryId)})),e.content.categoryViews=a}}))},getCategory:function(){var t=this;Object(o["d"])().then((function(e){if(e.code)return e.message&&t.$warn(e.message);e.data&&(t.categoriesValList=e.data)}))},goBack:function(){this.$router.go(-1)},handleAvatarSuccess:function(t,e){if(t.code)return t.message&this.$warn(t.message);t.data&&(this.content.photo=t.data)},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},changeAge:function(t){this.content[t]>100&&(this.content[t]=100)},handleRemove:function(t,e){if("success"!==t.status)return this.$warn("删除失败");if(t.url){var a=this.content.achievements.indexOf(t.url);this.content.achievements.splice(a,1)}},handleSuccess:function(t,e){if(t.code)return t.message&this.$warn(t.message);t.data&&this.content.achievements.push(t.data)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},save:function(){var t=this,e=this.isAdd?o["a"]:o["b"],a=this.content;e(a).then((function(e){if(e.code)return e.message&&t.$warn(e.message);t.$success(e.message),t.$router.push({name:"Teacher"})}))}}},u=c,m=(a("d3bf"),a("2877")),p=Object(m["a"])(u,n,s,!1,null,"125622b6",null);e["default"]=p.exports},"8dcf":function(t,e,a){},d3bf:function(t,e,a){"use strict";var n=a("8dcf"),s=a.n(n);s.a}}]);